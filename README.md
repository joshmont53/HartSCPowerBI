# 🏊 Swimming Club Power BI Report

This repository contains the Python scripts, data structure, and documentation that support a Power BI report for our swimming club. The report is designed to summarize performance metrics, track personal and seasonal bests, and support county rankings.

---

## 📁 Data Overview

The Power BI report is powered by **five main data files**:

1. `County_rankings`
2. `Personal_bests`
3. `Seasons_bests`
4. `Race_history`
5. `Members`

### 🔹 Data Source Summary

| File | Source | Processed via SQL? | Created From |
|------|--------|---------------------|--------------|
| `County_rankings` | SQL View | ✅ | `Swimming_rankings` table |
| `Personal_bests` | SQL View | ✅ | `Member_pbs` table |
| `Seasons_bests` | SQL View | ✅ | `Race_times_cleaned` table |
| `Race_history` | SQL View | ✅ | `Race_times_cleaned` table |
| `Members` | Direct Python Query | ❌ | Swim Manager export (can be automated) |

---

## 🧪 Backend SQL Tables

The following **SQL tables** are created from clean `.csv` uploads, generated by Python scripts:

- `County_times_cleaned`
- `Member_pbs`
- `Race_times_cleaned`
- `Swimming_rankings`

These tables support the SQL views used in the Power BI report.

---

## 🐍 Python Scripts

The `.csv` files loaded into SQL are generated from these Python scripts:

| Script | Output CSV | Description |
|--------|------------|-------------|
| `County_times_cleaned.py` | `County_times_cleaned.csv` | Combines male and female county qualification times into a single cleaned dataset. |
| `Race_times_cleaned.py` | `Race_times_cleaned.csv` | Cleans race times from raw data. |
| `Counties_rankings.py` | `Swimming_rankings.csv` | Produces rankings based on county competition results. |

### 📝 Members Data
- The **`Members`** CSV is currently exported manually from Swim Manager.
- 📌 *Suggestion:* Automate this by creating a new Python script to pull the data directly from the source.

---

## 📊 County Qualification Times

The `County_times_cleaned.py` script depends on two manually prepared CSV files:

- `Male County Times.csv`
- `Female County Times.csv`

These files contain the **current year's county qualification times** and are manually curated. For the upcoming year (e.g., 2026), ChatGPT or another assistant will be used to help generate updated tables. However, these times are relatively stable year to year, so minimal changes are expected.

---

## 🔄 Monthly Data Update Process

To refresh and publish the latest data to Power BI, follow these steps:

1. **Run Python Scripts**  
   Generate fresh `.csv` files for cleaned datasets.

2. **Update SQL Tables**  
   Replace existing SQL tables with the newly generated `.csv` files.

3. **Extract SQL Views**  
   Export the refreshed view outputs for use in Power BI.

4. **Refresh Power BI Report**  
   Open the Power BI report and reload the updated data sources.

5. **Update Publish Date**  
   On the Power BI home page, update the visible "last updated" date.

6. **Publish the Report**  
   Publish the refreshed Power BI report to the Power BI service.

---

## 📂 Repository Structure (Example)

```plaintext
swimming-club-report/
│
├── scripts/
│   ├── County_times_cleaned.py
│   ├── Race_times_cleaned.py
│   └── Counties_rankings.py
│
├── data/
│   ├── Male County Times.csv
│   ├── Female County Times.csv
│   └── Members.csv (optional future automation)
│
├── docs/
│   └── report_details.docx
│
├── README.md
└── .gitignore
